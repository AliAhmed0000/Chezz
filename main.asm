draw_rect MACRO color
local l1
    mov dx,di
    mov bh,20
    mov al,color
    l1: mov cx,40
        rep STOSB
        add dx,320
        mov di,dx
        dec BH
        jnz l1
endm draw_rect
;-------------
exchange_values MACRO c1,c2

endm exchange_values
;-------------
draw_piece MACRO piece,x_piece,y_piece
local l1,l2,skip_draw

mov si,offset piece
mov al,piece           ;just for storing the piece in piece_background
mov piece_background,al;to know background color of piece
mov ax,20d
mov bx,y_piece
mul bx  ; ax = y * 20
mov bx,ax
mov piece_y_end,bx
add piece_y_end,20d
l1:
    mov ax,40d
    mov di,x_piece
    mul di ;ax = x * 40
    mov di,ax
    mov piece_x_end,di
    add piece_x_end,40d ;40d
    l2:
            mov cx,di;column

            mov dx,bx;row
            mov ax,[si]
            mov ah,0ch  ;draw pixel
            cmp piece_background,al
            je skip_draw
            int 10h
        skip_draw:

            inc si

      inc di
      cmp di,piece_x_end
      jne l2
inc bx
cmp bx,piece_y_end
jne l1

endm draw_piece
;-------------
draw_rect_trans MACRO color
    local l1,l2,l3,end
        mov dx,di
        mov bl,es:[di]
        mov w_counter,40
        mov l_counter,20
        mov al,color
        l1: cmp es:[di],bl
            jnz l2
            
            mov cx,1
            rep stosb
            
        l3: dec w_counter
            jnz l1
            mov w_counter,40
            add dx,320
            mov di,dx
            dec l_counter
            jnz l1
            jmp end
            
            l2: inc di
            jmp l3
      end:           
endm draw_rect_trans
;-------------
;if row + column is even then background color1 (color of first square) else color2
check_square_color MACRO row,column ;if color1 then return al=0 else 1
local even_place,end_check
    mov ax,row
    add ax,column
    and ax,1        ;if last bit is 1 then odd else even
    jz even_place   ;even
    mov al,1 ;odd
    jmp end_check
even_place:
    mov al,0 ;even
end_check:
    jmp end_check
endm check_square_color
;------------draw_rectangle don't draw on existing pixels
draw_rectangle macro x_rect,y_rect,color_rect
local l11,l22,skip_me

    mov ax,20d
    mov bl,y_rect
    mov bh,0
    mul bx  ; ax = y * 20
    mov bx,ax
    mov rect_y_end,bx
    add rect_y_end,20d
    l11:
        mov ax,40d
        mov dl,x_rect
        mov dh,0
        mul dx ;ax = x * 40
        mov dx,ax
        mov rect_x_end,dx
        add rect_x_end,40d ;40d
        l22:
             push dx
            ;get color of existing pixels
            mov ah,0Dh
            mov cx,dx;column
            mov dx,bx;row
            int 10H     ; AL = COLOR of exisiting pixel

            cmp al,0
            je skip_me
            cmp al,15d
            je skip_me

            mov ah,0ch  ;draw pixel
            mov al,color_rect
            int 10h

        skip_me:
        pop dx
        inc dx
        cmp dx,rect_x_end
        jne l22
    inc bx
    cmp bx,rect_y_end
    jne l11
  endm draw_rectangle
;------------
get_0to64_from_xy MACRO x,y
    mov bl,8
    mov al,y
    mul bl;al=y*8
    add al,x
    mov bl,al
endm get_0to64_from_xy
;------------
time macro
mov ah,2ch
int 21h ;dh= current second
endm time
;------------
feeel macro x_fel,y_fel
local l1,l2,l3,l4,exit1,exit2,exit3,exit4

    mov al,x_fel
    mov x_new,al
    mov ah,y_fel
    mov y_new,ah

    l1:
        inc x_new
        inc y_new
        cmp x_new,8
        je exit1
        cmp y_new,8
        je exit1
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l1
exit1:

    mov al,x_fel
    mov x_new,al
    mov ah,y_fel
    mov y_new,ah

    l2:
        dec x_new
        inc y_new
        cmp x_new,-1
        je exit2
        cmp y_new,8
        je exit2
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l2
exit2:

    mov al,x_fel
    mov x_new,al
    mov ah,y_fel
    mov y_new,ah

    l3:
        dec x_new
        dec y_new
        cmp x_new,-1
        je exit3
        cmp y_new,-1
        je exit3
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l3
exit3:

    mov al,x_fel
    mov x_new,al
    mov ah,y_fel
    mov y_new,ah

    l4:
        inc x_new
        dec y_new
        cmp x_new,8
        je exit4
        cmp y_new,-1
        je exit4
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l4
exit4:

endm feeel
;------------
kingg macro x_king,y_king
local next1,next2,next3,next4,next5,next6,next7,next8
mov al,x_king
mov x_new,al
mov ah,y_king
mov y_new,ah

inc x_new
cmp x_new,8
je next1
draw_rectangle x_new,y_new,55
next1:

mov al,x_king
mov x_new,al
mov ah,y_king
mov y_new,ah

dec x_new
cmp x_new,-1
je next2
draw_rectangle x_new,y_new,55
next2:

mov al,x_king
mov x_new,al
mov ah,y_king
mov y_new,ah

inc y_new
cmp y_new,8
je next3
draw_rectangle x_new,y_new,55
next3:

mov al,x_king
mov x_new,al
mov ah,y_king
mov y_new,ah

dec y_new
cmp y_new,-1
je next4
draw_rectangle x_new,y_new,55
next4:

mov al,x_king
mov x_new,al
mov ah,y_king
mov y_new,ah

inc x_new
inc y_new
cmp x_new,8
je next5
cmp y_new,8
je next5
draw_rectangle x_new,y_new,55
next5:

mov al,x_king
mov x_new,al
mov ah,y_king
mov y_new,ah

dec x_new
inc y_new
cmp x_new,-1
je next6
cmp y_new,8
je next6
draw_rectangle x_new,y_new,55
next6:

mov al,x_king
mov x_new,al
mov ah,y_king
mov y_new,ah

dec x_new
dec y_new
cmp x_new,-1
je next7
cmp y_new,-1
je next7
draw_rectangle x_new,y_new,55
next7:

mov al,x_king
mov x_new,al
mov ah,y_king
mov y_new,ah

inc x_new
dec y_new
cmp x_new,8
je next8
cmp y_new,-1
je next8
draw_rectangle x_new,y_new,55
next8:
endm kingg
;------------
tabiaa macro x_tabia,y_tabia
local l1,l2,l3,l4,exit1,exit2,exit3,exit4

    mov al,x_tabia
    mov x_new,al
    mov ah,y_tabia
    mov y_new,ah

    l1:
        inc x_new
        cmp x_new,8
        je exit1
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l1
exit1:

    mov al,x_tabia
    mov x_new,al
    mov ah,y_tabia
    mov y_new,ah

    l2:
        dec x_new
        cmp x_new,-1
        je exit2
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l2
exit2:

    mov al,x_tabia
    mov x_new,al
    mov ah,y_tabia
    mov y_new,ah

    l3:
        inc y_new
        cmp y_new,8
        je exit3
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l3
exit3:

    mov al,x_tabia
    mov x_new,al
    mov ah,y_tabia
    mov y_new,ah

    l4:
        dec y_new
        cmp y_new,-1
        je exit4
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l4
exit4:
endm tabiaa
;------------
.model small
.stack 64
.data

start    dw 0    ;position of the starting point(pixel)
w       dw 40   ;width of the square
len     dw 20   ; length (height) of each row of squares
;count   dw 0    ; dummy maloosh lazma XD
color1  db 04h  ; primary color of the board
color2  db 02h  ; secondary color
c db ?
no_rows db 8    ; number of rows to be drawn
no_sqs db 8
;------------------end of Background vars
sel_color db 0ch ;color of the Navigateing square
continue_counter db 1
global_cursor db 0; 0-63
sq_cursor_h db 0; horizontal
sq_cursor_v db 0; vertical
step_size_row db 40; to traverse in a row
step_size_col dw 6400d; to traverse in a column
direction db 0
square_info LABEL BYTE
    ;first row
    db 6 ;sq_0  piece on it
    db 6 ;sq_1
    db 0
    db 0
    ;second row
    db 0
    db 0
    db 0
;--------------- draw_rect_trans macro variables
    sq_background db ?;;;;;;;;;;;;;;;;;;;;
    w_counter db ?
    l_counter db ?
;-------------------pieces--------------
;king ,wazer ,tabia , horse ,soldier ,fel
    piece_x_end dw ?
    piece_y_end dw ?
    piece_background db ?
;-------------draw_rectangle----------;
    rect_x_end dw ?
    rect_y_end dw ?
;--------ckeck selected piece---------;
selected_piece_x db 0
selected_piece_y db 0
selected_piece db ? ;selected piece
key db ? ;key pressed for logic
;------------move piece---------------;
x_new db 0
y_new db 0
current_x db 0
current_y db 0
;-------------white pieces--------------;
soldier db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,7,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
;--------------------
horse db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,7,15,15,15,7,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,8,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,8,7,15,15,15,15,15,15,15,15,15,15,15,15,7,8,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;------------
;-------------
king db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,7,18,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,39,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22,31,31,43,44,30,30,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,45,46,15,15,47,45,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,30,41,15,15,15,39,89,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22,42,46,15,15,15,45,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,45,47,15,15,15,47,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,25,39,15,15,15,36,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,15,15,15,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,15,15,15,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,35,15,15,15,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,19,37,15,15,15,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,33,42,15,15,15,38,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,110,46,47,15,15,15,45,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,47,15,15,15,15,47,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,28,43,15,15,15,15,15,15,42,213,19,17,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,18,34,47,15,15,15,15,15,15,15,15,46,46,29,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,18,213,7,15,15,15,15,15,15,15,15,15,15,15,33,17,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,17,20,30,7,41,41,41,41,41,41,42,42,7,35,25,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,20,21,21,21,21,21,21,21,21,20,18,17,0,0,0,0,0,0,0,0,0,0,0,0,0
;-----------
wazer db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
;----------
fel db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
;--------
tabia db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,8,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
;------------black pieces------------;
b_king db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,7,7,7,7,7,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
;----------
b_wazer db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,8,0,0,8,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
;-----------
b_fel db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,8,8,8,8,8,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
;---------------
b_horse db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,8,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,7,8,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,8,8,8,8,8,8,8,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
;--------------
b_tabia db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,15,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,8,8,8,8,8,8,8,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
;-------------
b_soldier db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,7,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15
db 15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,8,8,8,8,8,8,8,8,8,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15
;-----------
testt db 0,0,0,0,0,0,0,0,0,0,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,35,15,30,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,0,19,15,0,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,24,41,45,15,42,38,19,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,21,15,15,15,15,15,19,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,43,15,15,15,7,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,34,15,15,15,28,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,15,15,15,15,46,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,33,15,15,15,15,15,26,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,39,15,15,15,34,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,29,15,15,15,110,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,26,15,15,15,19,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,25,15,15,15,0,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,26,15,15,15,17,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,28,15,15,15,20,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,33,15,15,15,24,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,7,15,15,15,31,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,0,15,15,15,15,7,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,21,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,0,42,15,15,15,15,15,8,0,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,36,15,15,15,15,15,15,15,24,0,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,43,15,15,15,15,15,15,15,15,15,28,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,234,15,15,15,15,15,15,15,15,15,28,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,38,0,0,0,0,0,0,0
db 0,0,0,0,0,0,0,0,23,24,24,24,24,24,25,26,21,0,0,0,0,0,0,0,0
;-----------------

.code
main proc far
    mov ax,@data
    mov ds,ax

    mov ax,0A000h
    mov es,ax

    mov ah,0
    mov al,13h
    int 10h

    mov di,0

    mov no_sqs,8
    call draw_board

    call initialize_pieces

    mov di,0
    draw_rect_trans sel_color

continue_label:

    call Navigate
    call ckeck_selected

;main loop of game,not to end game
cmp continue_counter,0
jnz continue_label

;just for dosbox
    mov       ah, 4ch
    mov       al, 01h
    int       21h

    hlt
main endp
;-----------------
initialize_pieces proc
    ;draw all pieces using draw_piece x,y
    ;draw white pieces
    draw_piece tabia,0,0
    draw_piece horse,1,0
    draw_piece fel,2,0
    draw_piece wazer,3,0
    draw_piece king,4,0
    draw_piece fel,5,0
    draw_piece horse,6,0
    draw_piece tabia,7,0
    draw_piece soldier,0,1
    draw_piece soldier,1,1
    draw_piece soldier,2,1
    draw_piece soldier,3,1
    draw_piece soldier,4,1
    draw_piece soldier,5,1
    draw_piece soldier,6,1
    draw_piece soldier,7,1

    ;draw black pieces
    draw_piece b_tabia,0,7
    draw_piece b_horse,1,7
    draw_piece b_fel,2,7
    draw_piece b_wazer,3,7
    draw_piece b_king,4,7
    draw_piece b_fel,5,7
    draw_piece b_horse,6,7
    draw_piece b_tabia,7,7
    draw_piece b_soldier,0,6
    draw_piece b_soldier,1,6
    draw_piece b_soldier,2,6
    draw_piece b_soldier,3,6
    draw_piece b_soldier,4,6
    draw_piece b_soldier,5,6
    draw_piece b_soldier,6,6
    draw_piece b_soldier,7,6
ret
initialize_pieces endp
;-----------------
draw_board proc
    row_l1:
    push di
    draw_rect color1
    pop di
    add di,40
    mov al,color1
    mov bl,color2
    xchg al,bl
    mov color1,al
    mov color2,bl
    dec no_sqs
    jnz row_l1
    mov no_sqs,8
    mov al,color1
    mov bl,color2
    xchg al,bl
    mov color1,al
    mov color2,bl
    add start,6400
    mov di,start
    dec no_rows
    jnz row_l1 

    
    ret
draw_board endp
;-----------------
ckeck_selected proc

    cmp key,'q'
    je xcx
    jmp skip37
    xcx:

    mov al,sq_cursor_h
    mov selected_piece_x,al
    mov al,sq_cursor_v
    mov selected_piece_y,al

    mov bl,8
    mov al,selected_piece_y
    mul bl;al=y*8
    add al,selected_piece_x
    mov selected_piece,al
        draw_rectangle selected_piece_x,selected_piece_y,11
        ;feeel selected_piece_x,selected_piece_y
        ;kingg selected_piece_x,selected_piece_y
        ;tabiaa selected_piece_x,selected_piece_y
        mov al,selected_piece_x
        mov current_x,al
        mov al,selected_piece_y
        mov current_y,al
        ;call wazerr
        call horsee
    skip37:

ret
ckeck_selected endp
;-----------------
Navigate proc
    ;wait for user input
  CHECK_ifkeypressed:
    mov ah,1
    int 16h;0 if no key pressed
    jnz key_pressed
    mov key,'0';set key to 0
    ret
  key_pressed:
    mov ah,0 ;consume buffer
    int 16h ;w=up,s=down,a=left,d=right
    mov key,al
    ;if al == ascii of any of these letters
    ;it should do a distinct reaction
    ;al == d (right)
    cmp al,'d';;read ascii of 'd' from al
    jz cond_go_right
    cmp al,'a'
    jz cond_go_left
    cmp al,'w'
    jz cond_go_up
    cmp al,'s'
    jz cond_l_go_down

    exitt: ret

    cond_go_right:
    mov direction,1
    cmp sq_cursor_h,7;check if cursor is at the end of the row
    jz exitt
    jmp start_nav

    cond_go_left:
    mov direction,2
    cmp sq_cursor_h,0
    jz exitt
    jmp start_nav

    cond_go_up:
    mov direction,3
    cmp sq_cursor_v,0
    jz exitt
    jmp start_nav

    cond_l_go_down:
    mov direction,4
    cmp sq_cursor_v,7
    jz exitt
    jmp start_nav


    start_nav:
    push ax

    mov ax,0
    mov al,sq_cursor_h
    mul step_size_row ;ax = sq_cursor_h * step_size_row"40"
    mov di,ax

    mov ax,0
    mov al,sq_cursor_v
    mul step_size_col;ax = sq_cursor_v * step_size_col"6400"
    add di,ax

    push di
    draw_rect_trans color1
    mov al,color1
    mov bl,color2
    xchg al,bl
    mov color1,al
    mov color2,bl
    pop di


    pop ax
    cmp direction,1;;read ascii of 'd' from al
    jz go_right
    cmp direction,2
    jz go_left
    cmp direction,3
    jnz skip12 
    jmp go_up
    skip12:
    cmp direction,4
    jz l_go_down
    ;;;;;;;;;;;;;;;;;;;;;;
    go_right:
    cmp sq_cursor_h,7
    jz jump

    inc global_cursor

    inc sq_cursor_h
    add di,40d;next columnin same row
    push di
    draw_rect_trans sel_color
    pop di
    jump:jmp end_nav
    l_go_down: jmp go_down
    ;;;;;;;;;;;;;;;;;;;;;;;;;;
    go_left:
    cmp sq_cursor_h,0
    jz jump
    dec global_cursor

    dec sq_cursor_h
    sub di,40d
    push di
    draw_rect_trans sel_color
    pop di
    jmp end_nav
    ;;;;;;;;;;;;;;;;;;;;;;;;
    go_up:
    cmp sq_cursor_v,0
    jz jump

    sub global_cursor,8
    dec sq_cursor_v
    sub di,6400d
    push di
    draw_rect_trans sel_color
    pop di
    jmp end_nav
    ;;;;;;;;;;;;;;;;;;;;;;;;
    go_down:
    cmp sq_cursor_v,7
    jz end_nav

    add global_cursor,8

    inc sq_cursor_v
    add di,6400d
    push di
    draw_rect_trans sel_color
    pop di
    end_nav:
    ret
Navigate endp
;-----------------
wazerr proc
    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

    l12:
        inc x_new
        inc y_new
        cmp x_new,8
        je exit12
        cmp y_new,8
        je exit12
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l12
exit12:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

    l13:
        dec x_new
        dec y_new
        cmp x_new,-1
        je exit13
        cmp y_new,-1
        je exit13
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l13
exit13:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

    l14:
        inc x_new
        dec y_new
        cmp x_new,8
        je exit14
        cmp y_new,-1
        je exit14
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l14
exit14:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

    l15:
        dec x_new
        inc y_new
        cmp x_new,-1
        je exit15
        cmp y_new,8
        je exit15
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l15
exit15:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

    l16:
        inc x_new
        cmp x_new,8
        je exit16
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l16
exit16:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

    l17:
        dec x_new
        cmp x_new,-1
        je exit17
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l17
exit17:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

    l18:
        inc y_new
        cmp y_new,8
        je exit18
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l18
exit18:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

    l19:
        dec y_new
        cmp y_new,-1
        je exit19
          draw_rectangle x_new,y_new,55;55 is the highlight color
    jmp l19
exit19:

ret
wazerr endp
;-----------------
horsee proc
    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

        inc x_new
        inc y_new
        cmp y_new,8
        je exit20
        inc y_new
        cmp x_new,8
        je exit20
        cmp y_new,8
        je exit20
          draw_rectangle x_new,y_new,55;55 is the highlight color
exit20:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

        dec x_new
        dec y_new
        cmp y_new,-1
        je exit21
        dec y_new
        cmp x_new,-1
        je exit21
        cmp y_new,-1
        je exit21
          draw_rectangle x_new,y_new,55;55 is the highlight color
exit21:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

        inc x_new
        dec y_new
        cmp y_new,-1
        JE exit22
        dec y_new
        cmp x_new,8
        je exit22
        cmp y_new,-1
        JE exit22
          draw_rectangle x_new,y_new,55;55 is the highlight color
exit22:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

        dec x_new
        inc y_new
        cmp y_new,8
        je exit23
        inc y_new
        cmp x_new,-1
        je exit23
        cmp y_new,8
        je exit23
          draw_rectangle x_new,y_new,55;55 is the highlight color
exit23:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

        inc x_new
        cmp x_new,8
        je exit24
        inc x_new
        inc y_new
        cmp x_new,8
        je exit24
        cmp y_new,8
        je exit24
          draw_rectangle x_new,y_new,55;55 is the highlight color
exit24:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

        dec x_new
        cmp x_new,-1
        je exit25
        dec x_new
        inc y_new
        cmp x_new,-1
        je exit25
        cmp y_new,8
        je exit25
          draw_rectangle x_new,y_new,55;55 is the highlight color
exit25:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

        dec x_new
        cmp x_new,-1
        je exit255
        dec x_new
        dec y_new
        cmp x_new,-1
        je exit255
        cmp y_new,-1
        je exit255
          draw_rectangle x_new,y_new,55;55 is the highlight color
exit255:

    mov al,current_x
    mov x_new,al
    mov ah,current_y
    mov y_new,ah

        inc x_new
        cmp x_new,8
        je exit26
        inc x_new
        dec y_new
        cmp x_new,8
        je exit26
        cmp y_new,-1
        je exit26
          draw_rectangle x_new,y_new,55;55 is the highlight color
exit26:

ret
horsee endp
;-----------------


end main